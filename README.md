# gfast-ci-lint

<div align="center">

[![Go Report Card](https://goreportcard.com/badge/github.com/gfast-ci-lint)](https://goreportcard.com/report/github.com/gfast-ci-lint)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Go Version](https://img.shields.io/badge/go-1.21+-00ADD8.svg)](https://golang.org/dl/)
[![Release](https://img.shields.io/github/v/release/gfast-ci-lint?include_prereleases&style=flat-square)](https://github.com/gfast-ci-lint/releases)

</div>

<div align="center">

## ğŸš€ é¢„å‘Šï¼šgfast æ¡†æ¶å³å°†æ¨å‡ºï¼ ğŸš€

</div>

> gfast æ˜¯ä¸€æ¬¾å…¨æ–°çš„ Go è¯­è¨€å¾®æœåŠ¡å¼€å‘æ¡†æ¶ï¼Œä¸“æ³¨äºæä¾›é«˜æ€§èƒ½ã€æ˜“ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚æ¡†æ¶é‡‡ç”¨æ¨¡å—åŒ–å’Œæ’ä»¶åŒ–è®¾è®¡ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ ¹æ®å®é™…éœ€æ±‚çµæ´»ç»„è£…åŠŸèƒ½æ¨¡å—ã€‚
>
> åœ¨æŠ€æœ¯å®ç°ä¸Šï¼Œgfast åŸºäº gRPC å’Œ HTTP/2 æ„å»ºæœåŠ¡æ²»ç†ä½“ç³»ï¼Œæ”¯æŒå¤šæ ·åŒ–çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œå¹¶æä¾›ç»Ÿä¸€çš„é…ç½®ç®¡ç†ä¸­å¿ƒã€‚æ¡†æ¶å†…ç½®äº†åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ªå’Œç›‘æ§å‘Šè­¦ç³»ç»Ÿï¼Œä¸ºå¾®æœåŠ¡è¿ç»´æä¾›å…¨æ–¹ä½æ”¯æŒã€‚
>
> ä¸ºæå‡å¼€å‘ä½“éªŒï¼Œgfast é…å¤‡äº†å®Œå–„çš„å·¥å…·é“¾ï¼ŒåŒ…æ‹¬é¡¹ç›®è„šæ‰‹æ¶ã€ä»£ç ç”Ÿæˆå™¨å’Œè°ƒè¯•å·¥å…·ã€‚æ¡†æ¶æä¾›ä¸°å¯Œçš„å†…ç½®ç»„ä»¶ï¼ŒçœŸæ­£å®ç°"å¼€ç®±å³ç”¨"ã€‚è¯¦å°½çš„æ–‡æ¡£å’Œç¤ºä¾‹ç¡®ä¿å¼€å‘è€…èƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚
>
> æ— è®ºæ˜¯æ„å»ºå°å‹æœåŠ¡è¿˜æ˜¯å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤ï¼Œgfast éƒ½èƒ½æ»¡è¶³å¼€å‘è€…çš„éœ€æ±‚ï¼Œæ˜¯æ„å»ºç°ä»£åŒ–å¾®æœåŠ¡åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚
>
> â­ï¸ æ•¬è¯·æœŸå¾…ï¼ â­ï¸

<div align="center">

## âœ¨ ç‰¹æ€§

</div>

- ğŸ›¡ï¸ ä¸¥æ ¼çš„ä»£ç è´¨é‡æ£€æŸ¥
- ğŸ“ ç»Ÿä¸€çš„ä»£ç é£æ ¼è§„èŒƒ
- ğŸ¤– è‡ªåŠ¨åŒ–çš„ä»£ç å®¡æŸ¥
- âš™ï¸ å¯é…ç½®çš„æ£€æŸ¥è§„åˆ™

## é…ç½®è¯´æ˜

æœ¬é…ç½®åŒ…å«ä»¥ä¸‹ä¸»è¦æ£€æŸ¥é¡¹ï¼š

- `errcheck`: æ£€æŸ¥æœªå¤„ç†çš„é”™è¯¯
- `goimports`: è‡ªåŠ¨æ ¼å¼åŒ–å¯¼å…¥è¯­å¥
- `govet`: ä»£ç é™æ€åˆ†æ
- `staticcheck`: é«˜çº§é™æ€åˆ†æ
- `gocognit`: ä»£ç å¤æ‚åº¦æ£€æŸ¥
- `funlen`: å‡½æ•°é•¿åº¦æ£€æŸ¥
- `cyclop`: å¾ªç¯å¤æ‚åº¦æ£€æŸ¥
- `gosec`: å®‰å…¨æ£€æŸ¥
- `nestif`: åµŒå¥— if è¯­å¥æ£€æŸ¥
- `maintidx`: å¯ç»´æŠ¤æ€§æŒ‡æ•°æ£€æŸ¥
- `godox`: ä»£ç æ³¨é‡Šæ£€æŸ¥
- `decorder`: å£°æ˜é¡ºåºæ£€æŸ¥

## ä½¿ç”¨è¯´æ˜

1. å®‰è£… golangci-lintï¼š

```bash
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```

2. å°† `.golangci.yml` é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•

3. è¿è¡Œæ£€æŸ¥ï¼š

```bash
golangci-lint run
```

## é…ç½®å‚æ•°è¯´æ˜

### å¤æ‚åº¦æ£€æŸ¥
- `gocognit`: æœ€å°å¤æ‚åº¦é˜ˆå€¼ 10
- `cyclop`: æœ€å¤§å¤æ‚åº¦ 12ï¼ŒåŒ…å¹³å‡å¤æ‚åº¦ 11
- `funlen`: å‡½æ•°æœ€å¤§è¡Œæ•° 60ï¼Œæœ€å¤§è¯­å¥æ•° 40

### ä»£ç è§„èŒƒ
- `decorder`: å£°æ˜é¡ºåºä¸º type -> const -> var -> func
- `godox`: æ£€æŸ¥ç‰¹æ®Šæ³¨é‡Šæ ‡è®°ï¼ˆNOTE, OPTIMIZE, HACKï¼‰
- `maintidx`: å¯ç»´æŠ¤æ€§æŒ‡æ•°é˜ˆå€¼ 30
- `nestif`: if è¯­å¥æœ€å°å¤æ‚åº¦ 3

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªè§„èŒƒã€‚

## è®¸å¯è¯

MIT License
